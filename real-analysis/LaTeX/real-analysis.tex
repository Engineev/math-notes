\input{def.th}

\title{实分析$\,$笔记}
\author{任云玮}
\date{}


\begin{document}
\maketitle
\tableofcontents
\newpage

\section{集合论导引}

  \begin{thm}
    \label{thm: 开集的闭方块表示}
    所有$\R^n$中的开集$\mcal{O}$都可以写作可数个几乎不相交的闭方块的并的形式.
  \end{thm}

  \begin{pos}[对称差]
    \label{pos: 对称差}
    $\,$
    \begin{enumerate}
      \item $(A_1\cup A_2)\Delta(B_1\cup B_2)\subset(A_1\Delta B_1)\cup(A_2\Delta B_2)$.
      \item TODO
    \end{enumerate}
  \end{pos}

\newpage
\section{测度论导引}

\newpage
\section{$\R^n$上的Lebesgue测度}

\subsection{方块的测度}

\subsection{$\vep^n$的测度}

\subsection{外测度}

  \begin{lemma}
    对于任意的$A_1,A_2\in\mcal{M}^*(\R^n)$，成立
    $|\mu^*A_1 - \mu^*A_2|\le\mu^*(A_1\Delta A_2)$.
  \end{lemma}

\subsection{Lebesgue测度}
  \begin{defi}[Lebesgue测度]
    称集合$A\in\mcal{M}^*(\R^n)$为Lebesgue可测，若对任意$\vep>0$，存在
    初等集$B$，使得
    \begin{equation}
      \label{equ: Lebesgue测度}
      \mu^*(A\Delta B) < \vep.
    \end{equation}
    记Lebesgue可测的集合全体为$\mcal{M}(\R^n)$. 定义$\mu$为$\mu^*$限制在
    $\mcal{M}(\R^n)$上的函数，称其为Lebesgue测度.
  \end{defi}
  \remark
    之所以既需要外测度也需要定义Lebesgue测度是因为虽然外测度是定义在所有集合上的，
    但是它不满足可加性；而Lebesgue虽然有诸如可加性等很好的性质，但它只是定义在$\R^n$的
    一个子集上面. 而如此定义可测的原因在于，对于初等集而言，外测度的性质是良好且直观的.

  \begin{pos}[Lebesgue测度的性质]
    Lebesgue测度满足如下性质
    \begin{enumerate}
      \item 对任意$A\in\mcal{M}(\R^n)$，成立$\mu A\ge 0$.
      \item $\vep^n\subset\mcal{M}(\R^n)$且若$A\in\vep^n$，则$\mu A=m A$.
    \end{enumerate}
  \end{pos}

  \begin{thm}
    $\mcal{M}(\R^n)$为环.
  \end{thm}
  \proof
    利用\posref{pos: 对称差}即可. $\quad\blacksquare$

  \begin{cor}
    $\mcal{M}([0, 1])$为一个代数.
  \end{cor}

  \begin{thm}
    $\mu$在$\mcal{M}(\R^n)$上满足可加性.
  \end{thm}
  \proof
    即证明，若$A=A_1\cupdot A_2$，则$\mu A = \mu A_1 + \mu A_2$. 其中$\mu A
    \le \mu A_1 + \mu A_2$可以由外测度的性质直接推出. 下考虑另一方向，尝试证明
    $\mu A > \mu A_1 + \mu A_2 - \vep$.\par
    对于固定的$\vep$，首先根据Lebesgue可测的定义取出基础集$B_i$，满足$\mu*(A_i
    \Delta B_i)<\vep/6$，同时可以证明$m(B_1\cap B_2)<\vep/3$. 用$B=B_1\cup
    B_2$来估计$A$即可完成证明.$\quad\blacksquare$

  \begin{thm}
    环$\mcal{M}(\R^n)$上的测度$\mu$是$\sigma$-可加的.
  \end{thm}

  \begin{thm}
    \label{thm: 可数并可测}
    设$A\in \mcal{M}^*(\R^n)$且$A=\bigcup_{k=1}^\infty A_k$，其中
    $A_k\in\mcal{M}(\R^n)$. 则$A\in\mcal{M}(\R^n)$.
  \end{thm}
  \remark
    注意，对于Lebesgue可测集，它的测度就是外测度.
  \proof
    首先将$A$重写为不相交集$A_k\hp=A_k\backslash\bigcup_{j=1}^{k-1}A_j$.
    考虑级数$\sum\mu A_k\hp$，根据条件，它是收敛的. 之后对于它前充分多的有限项
    所对应的集合的并，它是Lebesgue可测的，考虑它对应的初等集$B$. 而对于剩下的集合，
    它们的外测度足够小. $\quad\blacksquare$

  \begin{cor}
    可数个零测集的并依然是零测集.
  \end{cor}
  \proof
    利用外测度的$\sigma$-半可加性和\thmref{thm: 可数并可测}即可证明.

  \begin{defi}[完备]
    称定义在环$\mathcal{K}$上的测度$\mu$是完备的，若任意零测集的子集的测度也为零.
  \end{defi}

  \begin{thm}
    Lebesgue测度是完备的.
  \end{thm}

\subsection{广义测度}

  \begin{defi}
    定义$\hat{Q}_l$为中心在原点、边长为$2l$的$n$维立方块.
  \end{defi}

  \begin{defi}[$\sigma$-可测]
    \label{defi: sigma-可测}
    称$A\subset\R^n$广义Lebesgue可测或$\sigma$-可测，若对于任意
    $l\in\mathbb{N}$，集合$A\cap\hat{Q}_l$ Lebesgue可测. 同时，对于
    $\sigma$-可测的集合，定义
    \begin{equation}
      \label{equ: sigma-测度}
      \mu A = \lim_{l\to\infty}\mu(A\cap \hat{Q}_l).
    \end{equation}
    记$\sigma$可测的集合全体为$\mcal{M}_{\sigma}(\R^n)$.
  \end{defi}

  \begin{thm}
    $\mcal{M}(\R^n)\subset\mcal{M}_{\sigma}(\R^n)$.
  \end{thm}

  \begin{thm}
    若对于$A\in\mcal{M}_\sigma(\R^n)$，\equref{equ: sigma-测度}的极限为有限值，
    则$A\in\mcal{M}(\R^n)$.
  \end{thm}
  \remark
    这一定理表明，$\mcal{M}_\sigma(\R^n)$只是$\mcal{M}(\R^n)$加上了原来测度
    为无穷的那些集合. 即对于测度有限部分，这两种的按照不同方式定义的测度是相同的.
  \proof
    为证明$A\in\mcal{M}(\R^n)$，只需要利用\thmref{thm: 可数并可测}，即验证
    $A\in\mcal{M}^*(\R^n)$且$A$可以拆成可数个Lebesgue可测集的并的形式.\par
    首先将利用$\{A_l\backslash A_{l-1}\}$拆分$A$，可以证明它们都是Lebesgue可测
    的. 之后只需要证明$A$的外测度有限即可. 注意
    \[
      \mu^* A \le \sum_{l=1}^\infty\mu^*(A_l\backslash A_{l-1})
      = \sum_{l=1}^\infty\mu(A_l\backslash A_{l-1}).
    \]
    而利用级数相关知识，可知$\rhs$收敛于有限值.$\quad\blacksquare$

  \begin{thm}
    \label{thm: 广义测度、sigma-代数}
    $\mcal{M}_\sigma(\R^n)$是$\sigma$-代数，它的单位元为$\R^n$.
  \end{thm}

  \begin{cor}
    设$X\subset\R^n$为紧集，则$\mcal{M}(X)$为$\sigma$-代数.
  \end{cor}

  \begin{thm}
    $\R^n$中的开集都$\sigma$-可测.
  \end{thm}
  \proof
    利用$\mcal{M}_\sigma(\R^n)$是$\sigma$-代数这一事实以及\thmref{thm:
    开集的闭方块表示}即可.$\quad\blacksquare$

\subsection{Borel $\sigma-$代数}

  \begin{defi}[Borel $\sigma$-代数]
    \label{defi: Borel代数}
    定义$\R^n$上的Borel $\sigma$-代数是由开集全体生成的$\sigma$-代数，即
    \[
      \mcal{B}(\R^n) = \sigma(\mcal{T}(\R^n)) =
      \bigcap\{ \mcal{A}\subset\R^n\,|\, \mcal{A}\supset\mcal{T}(\R^n),
      \,\text{且$\mcal{A}$为$\sigma$-代数}\}.
    \]
    其中$\mcal{T}(\R^n)$表示$\R^n$上的开集全体.
  \end{defi}
  \remark
    这一定义表明Borel $\sigma$-代数是最小的包含了所有开集的$\sigma$-代数. 首先，
    对$\mcal{A}$的要求表明它是包含了所有开集的$\sigma$-代数，而$\bigcap$则表明
    它是最小的. 与此同时，由于$\sigma$-代数对于取补集操作封闭，所以也可以说Borel
    $\sigma$-代数是由全体闭集生成的. 

  \begin{defi}[Borel集]
    称Borel $\sigma$-代数中的元素为Borel集.
  \end{defi}

  \begin{thm}
    Borel代数由$\R^n$中的闭方块全体$\mcal{K}(\R^n)$生成. 且Borel集Lebesgue可测.
  \end{thm}
  \remark
    这一定理意味着只需要定义了方块以及方块上的测度，那么对应的Borel集永远是可测的.
  \proof
    首先考虑定理的前半部分. 根据\thmref{thm: 开集的闭方块表示}可知，$\mcal{T}(\R^n)
    \subset\sigma(\mcal{K}(\R^n))$，从而$\sigma(\mcal{T}(\R^n))\subset
    \sigma(\mcal{K}(\R^n))$. 而根据\defref{defi: Borel代数}的评注，可知反向也
    成立. 因此$\mcal{B}(\R^n) = \sigma(\mcal{K}(\R^n))$.\par
    至于可测性. 由于对于任意$A\in\mcal{K}(\R^n)$，有$A\in\mcal{M}_\sigma(\R^n)$，
    所以根据\thmref{thm: 广义测度、sigma-代数}可知$\sigma(\mcal{K}(\R^n))\subset
    \mcal{K}(\R^n)$.$\quad\blacksquare$

\subsection{Borel正则性}

  \paragraph{正则性}
    如果说事物A是关于事物B正则的，那么它的含义是A可以用B来逼近. 例如说Lebesgue测度
    是Borel正则的，它表明某些集合的Lebesgue测度可以用Borel集的测度来逼近.

  \begin{thm}
    \label{thm: Borel正则性}
    设$A\subset\R^n$，则$\mu^*(A)=\inf\{\mu(G)\,|\,A\subset G,\,
    \text{G为开集}\}$. 若$A\in\mcal{M}_\sigma(\R^n)$，则$\mu(A)=
    \sup\{\mu(F)\,|\,F\subset A,\,\text{F为紧集}\}$.
  \end{thm}
  \remark
    这一定理表明，我们可以从外部用开集或者从内部用紧集逼近一个集合.
  \proof
    首先考虑前半部分，对于$\mu^*(A)=\infty$的情况是显然的，与此同时$\mu^*(A)\le\inf$也
    是如此，所以仅需要证明$\mu^*(A)\ge\inf$即可. 即证明对于任意的$\vep$，都存在开集$G$，
    使得$\mu^*(A)+\vep\ge\mu(G)$.考虑$\lhs$，对于$\mu^*(A)$，用刚比它大一点的方块覆
    盖$\{K_i\}$来替换代替它，即
    \[
      \sum_{i=0}^\infty\mu(K_i) \le \mu^*(A) + \frac{\vep}{2}.
    \]
    与此同时，对于每一个方块，考虑它对应的刚比它大一点的开方块$\tilde{K}_i$，即
    \[
      \mu(\tilde{K}_i) \le \mu(K_i) + \frac{\vep}{2^{i+1}}.
    \]
    利用半可加性即可知道这些开方块的并即为所需要的$G$.\par
    而对于后半部分，$\mu(A)\ge\sup$仍是显然的，下考虑$\mu(A)\le\sup$的证明. 首先
    对于$A$有界的情况，可以利用前半部分构造出合适的紧集. 首先取包含$A$的紧集$H$，接着
    从$H$中间挖去$A$. 由前半部分可知，存在一个相应的开集$G\supset H\backslash A$.
    它直观上来看，有一部分在$H$的外面，另一部分在$A$的里面. 而$A$中那些不属于$G$的部分，
    即$H\backslash G$，就是所需要的紧集. \par
    而对于$A$无界的情况，又分为两类. 首先是$\mu(A)=\infty$的情况，利用之前的结果可知
    $\sup=\infty$. 而对于$\mu(A)<\infty$的情况，注意到当$l$充分大时，\equref{equ:
    sigma-测度}中$\rhs$的增加就很小了，从而仍可以化归至有限的情况.$\quad\blacksquare$

  \begin{thm}
    $A\in\mcal{M}_\sigma(\R^n)$当且仅当对任意$\vep>0$，存在开集$G\supset A$使
    成立$\mu^*(G\backslash A)<\vep$.
  \end{thm}
  \proof
    首先假设$A\in\mcal{M}_\sigma(\R^n)$. 对于$\mu(A)<\infty$的情况，
    利用\thmref{thm: Borel正则性}证明中所构造的开集即可. 而对于$\mu(A)=\infty$的情况，
    只需对于$A_l$取对应开集，再取它们的并即可.\par
    接着假设条件成立，证明$A\in\mcal{M}_\sigma(\R^n)$. 对于有限的情况，取比$A$稍大
    的开集并用可数个闭方块来表示它，最后舍掉最后那些充分小的方块即得到了所要的初等集. 只需要
    证明$A_l\in\mcal{M}_\sigma(\R^n)$即可，之后利用$\mcal{M}_\sigma(\R^n)$对可数
    并封闭来完成证明.$\quad\blacksquare$

  \begin{thm}
    \label{thm: sigma-测度、夹逼}
    $A\in\mcal{M}_\sigma(\R^n)$当且仅当对任意$\vep>0$，存在开集$G$和闭集$F$，满足
    $F\subset A\subset G$且$\mu(G\backslash F)<\vep$. 若$\mu(A)<\infty$，则
    $F$的选取可以是紧集.
  \end{thm}
  \proof
    TODO
  % end(proof)

  \begin{defi}
    记$\R^n$中所有开集的可数并全体为$G_\delta(\R^n)$，所有闭集的可数交为$F_\sigma(\R^n)$.
  \end{defi}
  \remark
    可以证明，这两个集合实际就是Borel集. 相关的证明见\thmref{thm: sigma-可测、开集、闭集}.

  \begin{thm}
    \label{thm: sigma-可测、开集、闭集}
    设$A\in\mcal{M}_\sigma(\R^n)$. 则存在$G\in G_\delta(\R^n)$和$F\in F_\sigma(\R^n)$
    满足
    \[
      F\subset A\subset G,\quad \mu(G\backslash A) = \mu(A\backslash F) = 0.
    \]
  \end{thm}
  \proof
    对$\{ G_k\}$和$\{ F_k\}$施\thmref{thm: sigma-测度、夹逼}即可.$\quad\blacksquare$

  \begin{cor}
    $\mcal{M}_\sigma(\R^n)$是$\mcal{B}_\sigma(\R^n)$的在Lebesgue-$\sigma$测度
    下的完备化\footnote{注意，$\mcal{M}_\sigma(\R^n)$是完备的.}
    ，即对与$\mcal{M}_\sigma(\R^n)$中的集合和$\mcal{B}_\sigma(\R^n)$中
    的集合仅相差Borel集中零测集的某个子集，即对于任意的$A\in\mcal{M}_\sigma(\R^n)$，
    $A$可以被写为$X\cup M$的形式，其中$X\in\mcal{B}_\sigma(\R^n)$，而$M\subset N
    \in\mcal{B}_\sigma(\R^n)$且$\mu N=0$.
  \end{cor}

\subsection{不变性与Lebesgue不可测集}

  \begin{thm}
    Lebesgue测度有平移不变性、相对伸缩不变性和镜像不变性.
  \end{thm}

  \begin{thm}[Lebesgue不可测集]
    略
  \end{thm}

\subsection{其他测度}



\newpage
\section{可测函数}

\subsection{可测函数的定义}
   \begin{defi}[测度空间]
     对于集合$X$，设$\mcal{M}(X)$是它的一个构成$\sigma$-代数的子集且该$\sigma$-代数的单位元
     为$X$，设$\mu$是定义在$\mcal{M}$上的完备$\sigma$-可加测度. 称$(X, \mcal{M}, \mu)$为
     一个测度空间.
   \end{defi}

   \begin{defi}[可测]
     称函数$f:X\to\R$在集合$X$上关于测度$\mu$可测，若对任意实数$c$，集合$X(f>c):=\{x\in X
     \,:\,f(x)>c\}$可测. 记定义在$X$上的可测的函数全体为$S(X,\mcal{M}, \mu)$，简记为$S(X)$.
   \end{defi}

  \begin{lemma}
    以下命题等价.
    \begin{enumerate}
      \item $f\in S(X)$，即$X(f>c)\in\mcal{M}$.
      \item $X(f\ge c)\in\mcal{M}$.
      \item $X(f<c)\in\mcal{M}$.
      \item $X(f\le c)\in\mcal{M}$.
    \end{enumerate}
  \end{lemma}
  \proof
    首先证明
    \[
      X(f\ge c) = \bigcap_{k=1}^\infty X\left(f>c-\frac{1}{k}\right).
    \]
    之后只需要利用$\mcal{M}$的$\sigma$-可加性既可得到$\lhs$的可测性. 对于其他的条件，
    或与此证明类似，或可以直接利用补集等推出.$\quad\blacksquare$
  % end{proof}

  \begin{cor}
    若$f\in S(X)$，则对于任意的$a\le b$，如下集合都可测：
    \[
      X(a\le f\le b),\quad X(a<f\le b),\quad X(a<f<b),\quad X(a\le f<b), \quad 
      X(f=a).
    \]
  \end{cor}

  \begin{thm}
    设$X$是$\R$上的一段区间或$\R$本身. 任何连续函数$f:X\to\R$ $\sigma-$Lebesgue可测.
  \end{thm}
  \proof
    考虑$X$的内点$X_0$中满足$f>c$的部分$X_0(f>c)$. 根据连续性，可以证明它也是一个开集，
    从而使可测的. 而$X_0(f>c)$和$X(f>c)$之间只相差有限个点.$\quad\blacksquare$
  % end(proof)
% end{subsection}

\subsection{可测函数的性质}
  \begin{pos}
    若$f\in S(X)$而$k\in\R$，则$f+k\in S(X)$且$kf\in S(X)$.
  \end{pos}

  \begin{lemma}
    设$f,g\in S(X)$，则$X(f>g)\in\mcal{M}(X)$.
  \end{lemma}
  \proof
    将$X(f>g)$化为$X(f>r)$和$X(g<r)$的形式，其中$r\in Q$. 接着利用
    $\mcal{X}$的在可数并下封闭即可.$\quad\blacksquare$
  % end(proof)

  \begin{defi}
    定义函数$f$的正部与负部分别为
    \[
      f^+(x)=\begin{cases}
        f(x), & f(x)\ge 0,\\
        0,    & f(x) < 0.
      \end{cases}\qquad
      f^-(x)=\begin{cases}
        0,     & f(x) > 0,\\
        -f(x), & f(x) \le 0.
      \end{cases},\quad
    \]
  \end{defi}

  \begin{thm}
    若$f,g\in S(X)$，则以下函数都可测：
    \[
      f^2,\quad f+g,\quad fg,\quad f/g,\quad |f|,\quad f^{\pm}.
    \]
  \end{thm}

  \begin{lemma}
    \label{lemma: sigma-代数、限制}
    设$\mcal{A}$是单位元为$X$的$\sigma$-代数，$X_0\in\mcal{A}$，定义
    \[
      \mcal{A}(X_0) = \{A\cap X_0\,:\,A\in\mcal{A}(X)\}.
    \]
    则$\mcal{A}(X_0)$是以$X_0$为单位元的$\sigma$-代数.
  \end{lemma}
  \proof
    首先证明它对于可数并以及可数交封闭. 
    \[
      \bigcup_{k=1}^\infty(A_k\cap X_0)= 
      \left(\bigcup_{k=1}^\infty A_k \right)\cap X_0.
    \]
    由于$\mcal{A}$是$\sigma$-代数，所以$\bigcup_{k=1}^\infty A_k\in\mcal{A}$.
    所以$\lhs\in\mcal{A}(X_0)$. 对于可数交的证明也是同样. 下证明对于补集封闭.
    \[
      (A\cap X_0)^c = X_0\backslash A \cup \varphi = A^c\cap X_0\in\mcal{A}(X_0).
    \]
    同时，$X_0\cap(A\cap X_0) = A\cap X_0$，即$X_0$是单位元. 综上，$\mcal{A}(X_0)$
    是以$X_0$为单位元的$\sigma$-代数.$\quad\blacksquare$
  % end(proof)

  \begin{pos}
    若$f\in S(X)$且$X_0\in\mcal{M}(X)$，则$f\in S(X_0)$.
  \end{pos}
  \remark
    这一命题表示如果把一个可测函数限制在一个可测子集上，它依然是该子集上的可测函数.
  \proof
    由于$f\in S(X)$，所以$X(f>c)\in\mcal{A}$. 根据\lemmaref{lemma:
    sigma-代数、限制}，所以$X_0(f>c) = X_0\cap X(f>c)$属于以$X_0$为单位元的
    $\sigma$-代数，即为\footnote{??}$\mcal{M}(X_0)$.$\quad\blacksquare$
  % end
  
  \begin{thm}
    设$f:X\to\R$，$X=\bigcup_{k=1}^\omega X_k$且$1\le\omega\le\infty$，
    $X_k\in\mcal{M}(X)$，并且$f\in S(X_k)$. 则$f\in S(X)$.
  \end{thm}
  \remark
    这一命题表示对于一列可测集，只需要在每一集合上可测，那么$f$就在$X$上可测.
    $\quad\blacksquare$
  \proof
    利用$X(f>c)=\bigcup_k X_{k=1}^\omega(f>c)$以及$\mcal{X}$对可数并
    封闭即可.$\quad\blacksquare$
  % end

  \begin{thm}
    设$f\in S(X)$且$\mu X(f=\pm\infty)=0$. 则对任意$\vep>0$，存在有界$g\in S(X)$
    使得$\mu X(f\ne g)<\vep$.
  \end{thm}
  \remark
    这一命题表示，如果某个函数的“极点”测度为零，那么基本上可以把他们忽略掉从而使得它有界
    而不对原来的结果产生过大的影响.
  \proof
    定义$A_n = X(|f|>n)$. 令$n$充分大，定义
    \[
      g(x)=\begin{cases}
        f(x), & x\in X\backslash A_n,\\
        0,    & x\in A_n.
      \end{cases}
    \]
    可以证明它就是所要的$g$.$\quad\blacksquare$
  % end

  \begin{defi}[几乎处处]
    称性质$P$在集合$X$上几乎处处成立，若$X$中$P$不成立的点全体为一个零测集.
  \end{defi}

% end(subsection)
% end{section}

\newpage
\section{可测函数}

  \begin{defi}[特征函数]
    定义集合$E$的特征函数为
    \[
      \chi_E(x) = \begin{cases}
        1,& \quad x\in E, \\
        0,& \quad x\notin E.
      \end{cases}
    \]
  \end{defi}

  \begin{defi}[阶跃函数]
    称$f$是阶跃函数，若
    \[
      f = \sum_{k=1}^n a_k\chi_{R_k}
    \]
    其中$R_k$是$n$维矩形.
  \end{defi}

  \begin{defi}[简单函数]
    称$f$为简单函数，若
    \[
      f = \sum_{k=1}^n a_k\chi_{E_k}
    \]
    其中$E_k$为可测集且测度有限.
  \end{defi}

\subsection{定义与基础性质}

  \begin{thm}
    有限值函数$f$可测当且仅当对于任意开集$\mcal{O}$，$f^{-1}(\mcal{O})$可测，
    当且仅当对任意闭集$F$，$f^{-1}(F)$可测.
  \end{thm}
  \remark
    对于非有限值函数，只需要再要求$f^{-1}(\pm\infty)$分别可测，则定理仍是成立的.
  \proof
    实轴上的开集都可以被写成可数个不相交开区间的并的形式，同时由于$\mcal{M}$是
    $\sigma$-代数，所以它在可数并和取补集下都是封闭的.$\quad\blacksquare$
  % end

  \begin{thm}
    若$f$在$\R^n$上连续，则$f$可测. 若$f$可测且有限，同时$\Phi$连续，则
    $\Phi\circ f$可测.
  \end{thm}
  \proof
    事实上，连续保证了开集的原像是开集\footnote{证明见Rudin的《数学分析原理》.}，
    而开集永远是可测的，所以$f$可测. 对于后半部分的证明同理.$\quad\blacksquare$
  % end

  \begin{thm}
    设$\{f_n\}_{n=1}^\infty$是一列可测函数，则如下函数可测
    \[
      \sup_n f_n(x),\quad \inf_nf_n(x),\quad \limsup_{n\to\infty}f_n(x),
      \quad \liminf_{n\to\infty}f_n(x).
    \]
  \end{thm}
  \proof
    $X(\sup_n f_n>c) = \bigcup_n X(f_n>c)$. 其中左边表示$\sup_n f_n$中
    值大于$c$的$x$全体，而右侧表示只需要有一个$f_n(x)>c$，那么$c$就可以被取进来.
    所以第一个函数是可测的. 同时又有
    \[
      \inf_nf_n(x) = -\sup_n(-f_n(x)), \quad
      \limsup_{n\to\infty} = \inf_k\{\sup_{n\ge k}f_n\}.
    \]
    所以后几个函数也是可测的.$\quad\blacksquare$
  % end

  \begin{cor}
    设$\{f_n\}$是一列可测函数且$\lim_{n\to\infty}f_n = f$，则$f$可测.
  \end{cor}

  \begin{thm}
    设$f$和$g$可测，则
    \begin{enumerate}
      \item 对于正整数$k$，$f^k$可测.
      \item 若$f$和$g$有限，则$f+g$和$fg$可测.
    \end{enumerate}
  \end{thm}


  \begin{thm}
    设$f$可测且$g$同$f$几乎处处相等，则$g$可测.
  \end{thm}
  \remark
    $f$和$g$的任意原像至多只相差一个零测集.$\quad\blacksquare$
  % end

% end(subsection)

\subsection{利用简单函数或阶跃函数作逼近}

  \begin{thm}
    \label{thm: 简单函数逼近非负可测函数}
    设$f$是$\R^n$上的非负可测函数. 则存在一列递增的非负简单函数$\{\varphi_k\}$
    逐点收敛至$f$，即对任意$x$成立
    \[
      \varphi_k(x) \le \varphi_{k+1}(x),\quad
      \lim_{k\to\infty}\varphi_k(x) = f(x).
    \]
  \end{thm}
  \proof
    首先用一个长宽高都为$N$的正方体去截取原函数，设$Q_N$为以原点为中心、边长为
    $N$的正方形，即定义
    \[
      F_N(x) = \begin{cases}
        f(x), & x \in Q_N\quad\text{\&}\quad f(x) \le N, \\
        N,    & x \in Q_N\quad\text{\&}\quad f(x) > N, \\
        0,    & x \notin Q_N.
      \end{cases}
    \]
    接着沿着纵轴切以$1/M$的厚度切这个正方体，得到一个$Q_N$的划分，即
    \[
      E_{l,M} = \left\{ x\in Q_N \,:\,
      \frac{l}{M} < F_N(x) \le \frac{l+1}{M} \right\}, \quad
      0\le l \le NM.
    \]
    这样就可以得到所需的简单函数
    \[
      F_{N, M} = \sum_{l}\frac{l}{M}\chi_{E_{l,M}}(x).
    \]
    取$\varphi_k = F_{2^k,2^k}$即可. 可以验证它满足所需的性质.$\quad\blacksquare$
  % end

  \begin{thm}
    \label{thm: 简单函数逼近可测函数}
    设$f$在$\R^n$上可测. 则存在一列简单函数$\{\varphi_k\}$满足
    对任意$x$成立
    \[
      |\varphi_k(x)| \le |\varphi_{k+1}(x)|,\quad
      \lim_{k\to\infty}\varphi_k(x) = f(x).
    \]
    同时，$|\varphi_k(x)| \le |f(x)|$.
  \end{thm}
  \proof
    将$f$拆分成$f=f^+-f^-$并利用\thmref{thm: 简单函数逼近非负可测函数}即可.$\quad\blacksquare$
  % end

  \begin{thm}
    \label{thm: 阶跃函数逼近可测函数}
    设$f$在$\R^n$上可测. 则存在一列阶跃函数$\{\psi_k\}$几乎处处点态收敛至$f$.
  \end{thm}
  \proof
    只需要对于$f=\chi_E$的情况证明，之后利用\thmref{thm: 简单函数逼近可测函数}即可.
    用开集去逼近可测集$E$，并把开集拆成几乎不相交的方块的并，最后将这些方块取小一点，
    使得它们不相交. 这样就得到了一个阶跃函数，可以使得它和$f$只在一个任意小的集合上
    不同.$\quad\blacksquare$
  % end


% end(subsection)

\subsection{Littlewood三原理}
  \begin{pos}[Littlewood]
    $\,$
    \begin{enumerate}
      \item 集合一定程度上都是有限个区间的并.
      \item 函数一定程度上都是连续的.
      \item 收敛点列一定程度上都是一致收敛的.
    \end{enumerate}
  \end{pos}
  \remark
    对于[1.]，它的精确表述为：“对于一个可测集E，若它的测度有限，则总可以找到有限个
    方块的并，使得它们的对称差的测度充分小.” 而对于[2.]和[3.]的精确描述见之后的内容.
  % end

  \begin{thm}[Egorov]
    \label{thm: Egorov}
    设$\{f_k\}$是定义在可测集$E$上的一列可测函数且$\mu(E)<\infty$，设$f_k$
    在$E$上几乎处处收敛至$f$. 则对于任意$\vep>0$，存在闭集$A_\vep\subset E$，
    满足$\mu(E\backslash A_\vep)<\vep$且在$A_\vep$上$f_k$一致收敛于$f$.
  \end{thm}
  \proof
    首先，不失一般性的，可以假设$f_k$在$E$上收敛. 否则只需要把那些不收敛点去除，剩下
    的$E$和$f$依然可测，同时在新的条件下取出的闭集$A$依然是原来的$E$的闭子集.\par
    首先定义
    \[
      E_k^n = \{x\in E\,:\, \forall j > k,
      |f_j(x) - f(x)| < 1/n \}.
    \]
    之所以这样定义的$E_k^n$是为了避免极限定义中的“存在$N$”. 可以发现$E_k^n$随$k$
    单调地趋于$E$，从而可以取充分大的$k_n$，使得$\mu(E-E_{k_n}^n)<1/2^n$，即我们
    只需要去掉很少一部分点即可. 同时对于这个关于$n$的集合列，又可以取足够大的$N$，使得
    即使取之后所有集合的交$\tilde{A}_\vep$，它们依然占了$E$中的大多数，即$\mu(E
    \backslash \tilde{A}_\vep)<\vep/2$. 不难发现，$f_k$在$\tilde{A}_\vep$上
    是一致收敛的，最后需要做的，只是在$\tilde{A}_\vep$中取一个只比它小一点点的闭集
    即可.$\quad\blacksquare$
  % end

  \begin{thm}[Lusin]
    设有限值函数$f$在测度优先的可测集$E$上可测. 则对于任意$\vep>0$，存在闭集$F_\vep$满足
    \[
      F_\vep\subset E,\quad \mu(E\backslash F_\vep) < \vep,
    \]
    且$f|_{F_\vep}$连续.
  \end{thm}
  \remark
    注意$f|_{F_\vep}$和$f$在$F_\vep$上连续是有区别的，后者要求从$F_\vep$以外的点趋于
    $F_\vep$中的点时，连续性条件仍成立.
  \proof
    首先根据\thmref{thm: 阶跃函数逼近可测函数}可知可以利用一列阶跃函数几乎处处地逼近$f$.
    同时我们知道阶跃函数是几乎处处连续的. 同时利用\thmref{thm: Egorov}，可以找到一个
    同$E$是否相近的闭集使得$f$一致收敛. 结合这三者，利用$\vep/3$的trick即可完成证明.
    $\quad\blacksquare$
  % end
  

% end(subsection)

% end(section)

  


\end{document}
